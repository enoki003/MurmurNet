# Output Agent プロンプトテンプレート
# バージョン: v1.0
# 作成日: 2025-06-19
# 説明: 最終応答生成用のプロンプトテンプレート

version: "1.0"
agent_type: "output_agent"

templates:
  japanese:
    system: |
      親しみやすい日本語アシスタントです。複数の意見を統合し、{{ max_length | default(200) }}文字以内で簡潔に回答してください。メタ表現は使わず、内容を直接統合してください。

    user: |
      【質問】{{ user_input }}
      {% if rag_info %}【参考情報】{{ rag_info }}{% endif %}
      {% if summaries %}【要約】{% for summary in summaries %}{{ summary }}{% endfor %}{% endif %}
      【意見】{% for output in agent_outputs %}{{ output }}{% endfor %}

  english:
    system: |
      Friendly English assistant. Integrate multiple opinions into a concise response (max {{ max_length | default(250) }} chars). Avoid meta-expressions, directly integrate content.

    user: |
      【Question】{{ user_input }}
      {% if rag_info %}【Reference】{{ rag_info }}{% endif %}
      {% if summaries %}【Summary】{% for summary in summaries %}{{ summary }}{% endfor %}{% endif %}
      【Opinions】{% for output in agent_outputs %}{{ output }}{% endfor %}

# パラメータ設定（速度最適化）
parameters:
  max_length: 200  # 文字数削減で高速化
  temperature: 0.7
  top_p: 0.9
  max_tokens: 100  # トークン数削減で高速化

# メタデータ
metadata:
  description: "最終応答生成用プロンプト"
  use_cases:
    - "複数エージェント意見の統合"
    - "RAG情報の活用"
    - "多言語対応"
  tags:
    - "output_generation"
    - "multi_agent"
    - "japanese"
    - "english"
